{namespace v=FluidTYPO3\Vhs\ViewHelpers}
{namespace flux=FluidTYPO3\Flux\ViewHelpers}

<div xmlns="http://www.w3.org/1999/xhtml" lang="en"
   xmlns:f="http://typo3.org/ns/fluid/ViewHelpers"
   xmlns:flux="http://fedext.net/ns/flux/ViewHelpers"
   xmlns:v="http://fedext.net/ns/vhs/ViewHelpers">
   <f:layout name="Content" />

   <f:section name="Configuration">
      <flux:form id="tsi_slider" label="Slider" description="Zeigt den Carousel/Slider an" options="{icon: '/typo3conf/ext/tsi_site/Resources/Public/Backend/img/Slider.png'}">
         <flux:field.inline.fal name="SliederImages" maxItems="30" allowedExtensions="jpg,png,svg" label="Slider Images"/>
      </flux:form>
   </f:section>
<f:section name="Preview">
      <div id="myCarousel" class="carousel slide" data-ride="carousel">
		    <!-- Indicators -->
		    <ol class="carousel-indicators">
		        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
		        <li data-target="#myCarousel" data-slide-to="1"></li>
		        <li data-target="#myCarousel" data-slide-to="2"></li>
		    </ol>
		
		    <!-- Wrapper for slides -->
		    <div class="carousel-inner" role="listbox">
		        <div class="item active">
		            <picture>
		                <source media="(min-width:1401px)" srcset="typo3conf/ext/tsi_core/Resources/Public/Img/Header/header_knaus.jpg">
		                <source media="(min-width:1025px)" srcset="typo3conf/ext/tsi_core/Resources/Public/Img/Header/header_knaus.jpg">
		                <source media="(min-width: 801px)" srcset="typo3conf/ext/tsi_core/Resources/Public/Img/Header/header_knaus.jpg">
		                <img src="typo3conf/ext/tsi_core/Resources/Public/Img/Header/header_knaus.jpg" class="img-responsive" alt="TITLE"
		                     title="TITLE">
		            </picture>
		
		            <div class="carousel-caption">
		                <h2>Unsere neue Aktion</h2>
		                <p>Lorem ipsum dolor sit</p>
		                <div class="button-box">
		                    <a href="" class="button-gray btn btn-primary">jetzt teilnehmen</a>
		                </div>
		            </div>
		        </div>
		        <div class="item">
		            <picture>
		                <source media="(min-width:1401px)" srcset="typo3conf/ext/tsi_core/Resources/Public/Img/Header/header_tabbert.jpg">
		                <source media="(min-width:1025px)" srcset="typo3conf/ext/tsi_core/Resources/Public/Img/Header/header_tabbert.jpg">
		                <source media="(min-width: 801px)" srcset="typo3conf/ext/tsi_core/Resources/Public/Img/Header/header_tabbert.jpg">
		                <img src="typo3conf/ext/tsi_core/Resources/Public/Img/Header/header_tabbert.jpg" class="img-responsive" alt="TITLE"
		                     title="TITLE">
		            </picture>
		
		            <div class="carousel-caption">
		                <h2>Unsere neue Aktion 2</h2>
		                <p>Lorem ipsum dolor sit</p>
		                <div class="button-box">
		                    <a href="" class="button-gray btn btn-primary">jetzt teilnehmen</a>
		                </div>
		            </div>
		        </div>
		        <div class="item">
		            <picture>
		                <source media="(min-width:1401px)" srcset="typo3conf/ext/tsi_core/Resources/Public/Img/Header/header_weinsberg.jpg">
		                <source media="(min-width:1025px)" srcset="typo3conf/ext/tsi_core/Resources/Public/Img/Header/header_weinsberg.jpg">
		                <source media="(min-width: 801px)" srcset="typo3conf/ext/tsi_core/Resources/Public/Img/Header/header_weinsberg.jpg">
		                <img src="typo3conf/ext/tsi_core/Resources/Public/Img/Header/header_weinsberg.jpg" class="img-responsive" alt="TITLE"
		                     title="TITLE">
		            </picture>
		
		            <div class="carousel-caption">
		                <h2>Unsere neue Aktion 3</h2>
		                <p>Lorem ipsum dolor sit</p>
		                <div class="button-box">
		                    <a href="" class="button-gray btn btn-primary">jetzt teilnehmen</a>
		                </div>
		            </div>
		        </div>
		
		    </div>
		</div>
   </f:section>
   <f:section name="Main">

      <div id="myCarousel" class="carousel slide mit-carousel-control" data-ride="carousel" data-interval="5000">
         <div class="carousel-inner" role="listbox">
            <f:for each="{v:content.resources.fal(field: 'SliederImages')}" as="element" iteration="i">
               <div class="item{f:if(condition:'{i.isFirst}', then:' active')}">
                  <v:resource.image identifier="{element.uid}" treatIdAsReference="1" as="image1" width="480">
                     <v:variable.set name="imageSrc1" value="{image1.0.source}" />
                  </v:resource.image>
                  <v:resource.image identifier="{element.uid}" treatIdAsReference="1" as="image2" width="1400">
                     <v:variable.set name="imageSrc2" value="{image2.0.source}" />
                  </v:resource.image>
                  <v:resource.image identifier="{element.uid}" treatIdAsReference="1" as="image3" width="1024">
                     <v:variable.set name="imageSrc3" value="{image3.0.source}" />
                  </v:resource.image>
                  <picture>
                     <source media="(min-width: 480px)" srcset="{imageSrc1}">
                     <source media="(min-width: 768px)" srcset="{imageSrc2}">
                     <source media="(min-width: 1024px)" srcset="{imageSrc3}">
                     <f:image src="{element.url}"  class="img-responsive"  additionalAttributes="{style: 'opacity:1;'}" />
                  </picture>
               </div>
            </f:for>
         </div>
            <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
              <span class="" aria-hidden="true"></span>
              <span class="sr-only">Zur√ºck</span>
          </a>
          <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
              <span class="" aria-hidden="true"></span>
              <span class="sr-only">Weiter</span>
          </a>
      </div>
   </f:section>
</div>
